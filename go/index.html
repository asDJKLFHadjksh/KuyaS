<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Redirecting...</title>
</head>
<body>
<script>
  /* =========================
     CONFIG
  ========================= */

  // YouTube channels
  const ytMain = "http://youtube.com/c/KuhyaKuya?sub_confirmation=1";
  const ytOthers = [
    "https://www.youtube.com/@KuhyaKuyaStudio?sub_confirmation=1"
  ];

  // Other platforms
  const routes = {
    tiktok: "https://tiktok.com/@akun_resmi",
    tt: "https://tiktok.com/@akun_resmi",

    instagram: "https://www.instagram.com/kuhyakuya?igsh=bmxxN2lvdXRoOXZ5",
    ig: "https://www.instagram.com/kuhyakuya?igsh=bmxxN2lvdXRoOXZ5",

    discord: "https://discord.com/invite/YqKVt4CREE",
    dc: "https://discord.com/invite/YqKVt4CREE"
  };

  const FALLBACK_URL = "https://kuhyakuya.com/go/fallback.html";

  /* =========================
     HELPERS
  ========================= */

  function isDesktop() {
    return !/android|iphone|ipad|ipod/i.test(navigator.userAgent);
  }

  function openYouTubeBundle() {
    // popup channel lain (desktop only)
    if (isDesktop()) {
      ytOthers.forEach(url => {
        window.open(url, "_blank");
      });
    }

    // channel utama (tab aktif)
    window.location.replace(ytMain);
  }

  /* =========================
     ROUTER
  ========================= */

  const params = new URLSearchParams(window.location.search);
  const rawTarget = params.get("to");
  const target = rawTarget ? rawTarget.toLowerCase() : null;

  if (target === "yt" || target === "youtube") {
    // kasih delay dikit biar lebih natural & kadang lebih lolos popup
    setTimeout(openYouTubeBundle, 120);

  } else if (target && routes[target]) {
    window.location.replace(routes[target]);

  } else {
    window.location.replace(FALLBACK_URL);
  }
</script>
</body>
</html>

